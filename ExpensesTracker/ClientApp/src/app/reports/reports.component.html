<div class="container">
  <h2>Statistiken</h2>
  <hr>
  <div class="detail-container">
    <div class="row">
      <div class="col-6">
        <select (change)="onMonthChange($event)" [ngModel]="currentMonth" class="form-select">
          <option *ngFor="let month of months" [value]="month.value">{{month.name}}</option>
        </select>
      </div>
      <div class="col-6">
        <select (change)="onYearChange($event)" [ngModel]="currentYear" class="form-select">
          <option *ngFor="let year of years" [value]="year">{{year}}</option>
        </select>
      </div>
    </div>
    <div class="report-button">
      <button (click)="onCreateMonthlyExcelReport()" class="btn btn-warning">Download Monats
        Statistik {{getMonthName(currentMonth)}} {{currentYear}}</button>
    </div>
    <hr>
  </div>
  <div class="detail-container">
    <div class="row">
      <div class="offset-3 col-6 offset-3">
        <select (change)="onYearChange($event)" [ngModel]="currentYear" class="form-select">
          <option *ngFor="let year of years" [value]="year">{{year}}</option>
        </select>
      </div>
    </div>
    <div class="report-button">
      <button (click)="onCreateYearlyExcelReport()" class="btn btn-warning">Download Jahres Statistik {{currentYear}}</button>
    </div>
    <hr>
  </div>
</div>
<ng-container *ngIf="yearlyExpenses && yearlyExpenses.length > 0; else noContent">
<!--  <h2>Ausgaben im Jahr {{currentYear}}</h2>-->
  <ngx-charts-advanced-pie-chart
    [results]="yearlyExpenses"
    [animations]="animations"
    [label]="'Total ' + currentYear.toString()"
    [valueFormatting]="setValueFormatting"
    [percentageFormatting]="setValueFormatting"
    [gradient]="false" >
  </ngx-charts-advanced-pie-chart>
</ng-container>
<ng-template #noContent>
  <h2>Keine Ausgaben in {{currentYear}}</h2>
</ng-template>

